<template>
  <div class="px-5 pt-5">
    <svg xmlns="http://www.w3.org/2000/svg" width="81" height="80" viewBox="0 0 81 80" fill="none" class="mx-auto w-fit">
      <rect width="80" height="80" transform="translate(0.5)" fill="#222222" />
      <path d="M21.5 40L34.5 53L60.5 27" stroke="white" stroke-width="8" />
    </svg>

    <h2 class="display-1-b mt-8 text-center text-black">가입이 완료되었습니다!</h2>
    <p class="body-2-r mt-2 text-center text-rgray-600">정교한 검수와 세탁을 거친<br />고퀄리티 중고 의류를 지금 득템해 보세요!</p>

    <div class="mt-8 w-full divide-y divide-rgray-100">
      <div v-for="item in list" :key="item" class="flex w-full justify-between px-4 py-2 pt-3">
        <div class="my-auto h-fit">
          <p class="headline-b text-black">{{ item.title }}</p>
          <p class="body-1-r mt-0.5 text-rgray-600">{{ item.body }}</p>
        </div>

        <div v-html="item.code"></div>
      </div>
    </div>

    <button class="btn-h60-r30-fill-wfull mt-8" @click="goToHome">시작하기</button>
  </div>
</template>

<script setup>
// 회원가입 완료 페이지
import * as amplitude from '@amplitude/analytics-browser'

const router = useRouter()

const list = ref([
  {
    title: '배송비 0원',
    body: '딱 하나만 주문해도 무료배송!',
    code: `
                <svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13.2894 28.0658H22.9605L25.2631 28.9868L27.1052 48.3288H5.46052L5 47.4078L5.46052 37.2763L13.2894 28.0658Z" fill="#E7E7E7"/>
                    <path d="M24.2027 27.6655H14.1593C13.5713 27.6655 13.0131 27.9242 12.6331 28.373L5.47345 36.8276C5.16757 37.1888 4.99971 37.6468 4.99971 38.1201V46.3267C4.99971 47.4312 5.89514 48.3267 6.99971 48.3267H26.9658" stroke="#222222" stroke-width="2"/>
                    <path d="M26.2031 48.3266L61.0264 48.3266C62.1309 48.3266 63.0264 47.4312 63.0264 46.3266L63.0264 25C63.0264 23.8954 62.1309 23 61.0264 23L26.2032 23C25.0986 23 24.2032 23.8954 24.2032 25L24.2031 46.3266C24.2031 47.4312 25.0986 48.3266 26.2031 48.3266Z" fill="#E7E7E7" stroke="#222222" stroke-width="2"/>
                    <path d="M62.0264 29.975H67.5527" stroke="#222222" stroke-width="2"/>
                    <path d="M62.0264 35.5013H69.3158" stroke="#222222" stroke-width="2"/>
                    <path d="M62.0264 41.0276H72" stroke="#222222" stroke-width="2"/>
                    <circle cx="5.52629" cy="5.52629" r="4.52629" transform="matrix(-1 0 0 1 58.4209 42.8697)" fill="#E7E7E7" stroke="#222222" stroke-width="2"/>
                    <circle cx="5.52629" cy="5.52629" r="4.52629" transform="matrix(-1 0 0 1 21.5791 42.8697)" fill="#E7E7E7" stroke="#222222" stroke-width="2"/>
                    <path d="M31.4785 31.9047H36.4053V33.4037H33.334V34.6879H36.1025V36.187H33.334V38.975H31.4785V31.9047ZM37.1426 31.9047H40.1504C40.6777 31.9047 41.1367 32.0008 41.5273 32.1928C41.9212 32.3849 42.2256 32.6616 42.4404 33.0229C42.6585 33.381 42.7676 33.8041 42.7676 34.2924C42.7676 34.784 42.6569 35.2055 42.4355 35.5571C42.2174 35.9054 41.9066 36.169 41.5029 36.3481C41.0993 36.5271 40.6273 36.6166 40.0869 36.6166H38.2559V35.1616H39.7256C39.9697 35.1616 40.1715 35.1323 40.3311 35.0737C40.4906 35.0118 40.6126 34.9174 40.6973 34.7905C40.7852 34.6603 40.8291 34.4942 40.8291 34.2924C40.8291 34.0873 40.7852 33.9197 40.6973 33.7895C40.6126 33.656 40.4889 33.5567 40.3262 33.4916C40.1634 33.4265 39.9632 33.394 39.7256 33.394H38.998V38.975H37.1426V31.9047ZM43.002 38.975H40.9756L39.2568 35.7377H41.2393L43.002 38.975ZM43.6172 31.9047H48.666V33.4037H45.4727V34.6879H48.4072V36.187H45.4727V37.476H48.6514V38.975H43.6172V31.9047ZM49.6426 31.9047H54.6914V33.4037H51.498V34.6879H54.4326V36.187H51.498V37.476H54.6768V38.975H49.6426V31.9047Z" fill="#222222"/>
                </svg>`
  },
  {
    title: '2,000원 즉시 할인',
    body: '조건 없이 사용 가능한 웰컴포인트 지급!',
    code: `
            <svg xmlns="http://www.w3.org/2000/svg" width="72" height="72" viewBox="0 0 72 72" fill="none">
                <path d="M37 29.5L36.5 32L35.5 43L36.5 54L39.5 58L46 60.5H54L61.5 58L66 54V37L65 30.5L64.5 28L57 24.5L50 23.5L41.5 25.5L37 29.5Z" fill="#E7E7E7" stroke="black"/>
                <ellipse cx="51" cy="32.5135" rx="15" ry="8.51351" stroke="#222222" stroke-width="2"/>
                <path d="M66 32.9189V36.9867C66 41.9049 59.2843 45.8919 51 45.8919C42.7157 45.8919 36 41.9049 36 36.9867V32.9189" stroke="#222222" stroke-width="2"/>
                <path d="M66 37.7838V41.8516C66 46.7698 59.2843 50.7568 51 50.7568C42.7157 50.7568 36 46.7698 36 41.8516V37.7838" stroke="#222222" stroke-width="2"/>
                <path d="M66 43.4595V47.273C66 51.8838 59.2843 55.6216 51 55.6216C42.7157 55.6216 36 51.8838 36 47.273V43.4595" stroke="#222222" stroke-width="2"/>
                <path d="M66 48.3243V52.1379C66 56.7487 59.2843 60.4865 51 60.4865C42.7157 60.4865 36 56.7487 36 52.1379V48.3243" stroke="#222222" stroke-width="2"/>
                <circle cx="21.4054" cy="45.0811" r="14.4054" fill="#E7E7E7" stroke="#222222" stroke-width="2"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M17.335 39.3145V51.5475H20.3075V48.3463H23.5086C24.6519 48.3463 27.3957 47.2031 27.3957 44.1162C27.3957 41.0294 25.4522 39.3145 23.5086 39.3145H17.335ZM20.3092 45.8312V41.7154H22.9387C23.739 41.7154 24.6536 42.4014 24.6536 43.7733C24.6536 45.1452 23.739 45.8312 22.9387 45.8312H20.3092Z" fill="#222222"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M42.6357 33.6344L44.9357 35.0719L47.6669 33.4907L50.8293 35.0719C52.2667 35.7906 55.5729 36.0781 57.5853 34.4969C59.5978 32.9157 58.4478 31.3345 57.5853 30.7595C56.8954 30.2995 54.1354 28.5554 52.8417 27.7408L42.6357 33.6344ZM49.6775 32.1969L53.1274 30.1845C53.3105 30.3065 53.558 30.4628 53.8428 30.6428C54.2289 30.8867 54.6838 31.1741 55.1399 31.4782C56.4336 32.3407 55.928 32.876 54.8524 33.4906C54.0977 33.9219 52.6962 33.7781 51.8337 33.3469C50.7507 32.8054 50.0609 32.4365 49.6775 32.1969Z" fill="#222222"/>
                <path d="M39 13.5L44 18.5" stroke="#222222" stroke-width="2"/>
                <path d="M63.5 13.5L58.5 18.5" stroke="#222222" stroke-width="2"/>
                <path d="M50.5 11L50.5 18" stroke="#222222" stroke-width="2"/>
            </svg>
        `
  },
  {
    title: '무료 반품권 3매',
    body: '상품이 마음에 들지 않아도 3번 무료 반품!',
    code: `
            <svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg">
                <mask id="path-1-inside-1_973_74031" fill="white">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M9 24C9 21.7909 10.7909 20 13 20H59C61.2091 20 63 21.7909 63 24V32.1786C61.3039 32.4212 60 33.8799 60 35.6432C60 37.4064 61.3039 38.8651 63 39.1077V48C63 50.2091 61.2091 52 59 52H13C10.7909 52 9 50.2091 9 48V39C10.933 39 12.5 37.433 12.5 35.5C12.5 33.567 10.933 32 9 32V24Z"/>
                </mask>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M9 24C9 21.7909 10.7909 20 13 20H59C61.2091 20 63 21.7909 63 24V32.1786C61.3039 32.4212 60 33.8799 60 35.6432C60 37.4064 61.3039 38.8651 63 39.1077V48C63 50.2091 61.2091 52 59 52H13C10.7909 52 9 50.2091 9 48V39C10.933 39 12.5 37.433 12.5 35.5C12.5 33.567 10.933 32 9 32V24Z" fill="#E7E7E7"/>
                <path d="M63 32.1786L63.2832 34.1585L65 33.9129V32.1786H63ZM63 39.1077H65V37.3734L63.2832 37.1279L63 39.1077ZM9 39V37H7V39H9ZM9 32H7V34H9V32ZM13 18C9.68629 18 7 20.6863 7 24H11C11 22.8954 11.8954 22 13 22V18ZM59 18H13V22H59V18ZM65 24C65 20.6863 62.3137 18 59 18V22C60.1046 22 61 22.8954 61 24H65ZM65 32.1786V24H61V32.1786H65ZM62 35.6432C62 34.8892 62.5581 34.2622 63.2832 34.1585L62.7168 30.1988C60.0496 30.5803 58 32.8706 58 35.6432H62ZM63.2832 37.1279C62.5581 37.0242 62 36.3971 62 35.6432H58C58 38.4157 60.0496 40.706 62.7168 41.0876L63.2832 37.1279ZM65 48V39.1077H61V48H65ZM59 54C62.3137 54 65 51.3137 65 48H61C61 49.1046 60.1046 50 59 50V54ZM13 54H59V50H13V54ZM7 48C7 51.3137 9.68629 54 13 54V50C11.8954 50 11 49.1046 11 48H7ZM7 39V48H11V39H7ZM10.5 35.5C10.5 36.3284 9.82843 37 9 37V41C12.0376 41 14.5 38.5376 14.5 35.5H10.5ZM9 34C9.82843 34 10.5 34.6716 10.5 35.5H14.5C14.5 32.4624 12.0376 30 9 30V34ZM7 24V32H11V24H7Z" fill="#222222" mask="url(#path-1-inside-1_973_74031)"/>
                <path d="M24.5654 28.6367H28.9995V29.9858H26.2354V31.1416H28.7271V32.4907H26.2354V35H24.5654V28.6367ZM29.6631 28.6367H32.3701C32.8447 28.6367 33.2578 28.7231 33.6094 28.896C33.9639 29.0688 34.2378 29.3179 34.4312 29.6431C34.6274 29.9653 34.7256 30.3462 34.7256 30.7856C34.7256 31.228 34.626 31.6074 34.4268 31.9238C34.2305 32.2373 33.9507 32.4746 33.5874 32.6357C33.2241 32.7969 32.7993 32.8774 32.313 32.8774H30.665V31.5679H31.9878C32.2075 31.5679 32.3892 31.5415 32.5327 31.4888C32.6763 31.4331 32.7861 31.3481 32.8623 31.2339C32.9414 31.1167 32.981 30.9673 32.981 30.7856C32.981 30.6011 32.9414 30.4502 32.8623 30.333C32.7861 30.2129 32.6748 30.1235 32.5283 30.0649C32.3818 30.0063 32.2017 29.9771 31.9878 29.9771H31.333V35H29.6631V28.6367ZM34.9365 35H33.1128L31.5659 32.0864H33.3501L34.9365 35ZM35.4902 28.6367H40.0342V29.9858H37.1602V31.1416H39.8013V32.4907H37.1602V33.6509H40.021V35H35.4902V28.6367ZM40.9131 28.6367H45.457V29.9858H42.583V31.1416H45.2241V32.4907H42.583V33.6509H45.4438V35H40.9131V28.6367ZM18.5801 37.6367H21.2871C21.7617 37.6367 22.1748 37.7231 22.5264 37.896C22.8809 38.0688 23.1548 38.3179 23.3481 38.6431C23.5444 38.9653 23.6426 39.3462 23.6426 39.7856C23.6426 40.228 23.543 40.6074 23.3438 40.9238C23.1475 41.2373 22.8677 41.4746 22.5044 41.6357C22.1411 41.7969 21.7163 41.8774 21.23 41.8774H19.582V40.5679H20.9048C21.1245 40.5679 21.3062 40.5415 21.4497 40.4888C21.5933 40.4331 21.7031 40.3481 21.7793 40.2339C21.8584 40.1167 21.8979 39.9673 21.8979 39.7856C21.8979 39.6011 21.8584 39.4502 21.7793 39.333C21.7031 39.2129 21.5918 39.1235 21.4453 39.0649C21.2988 39.0063 21.1187 38.9771 20.9048 38.9771H20.25V44H18.5801V37.6367ZM23.8535 44H22.0298L20.4829 41.0864H22.2671L23.8535 44ZM24.4072 37.6367H28.9512V38.9858H26.0771V40.1416H28.7183V41.4907H26.0771V42.6509H28.938V44H24.4072V37.6367ZM29.6411 37.6367H35.1299V38.9858H33.2095V44H31.5659V38.9858H29.6411V37.6367ZM41.269 37.6367V41.7236C41.269 42.1953 41.1548 42.6084 40.9263 42.9629C40.7007 43.3145 40.3799 43.5884 39.9639 43.7847C39.5508 43.978 39.0732 44.0747 38.5312 44.0747C37.9893 44.0747 37.5132 43.978 37.103 43.7847C36.6929 43.5884 36.3735 43.3145 36.145 42.9629C35.9194 42.6084 35.8066 42.1953 35.8066 41.7236V37.6367H37.4766V41.5786C37.4766 41.7778 37.522 41.958 37.6128 42.1191C37.7036 42.2773 37.8296 42.4019 37.9907 42.4927C38.1519 42.5835 38.332 42.6289 38.5312 42.6289C38.7393 42.6289 38.9238 42.5835 39.085 42.4927C39.2461 42.4019 39.3706 42.2773 39.4585 42.1191C39.5464 41.958 39.5903 41.7778 39.5903 41.5786V37.6367H41.269ZM42.1172 37.6367H44.8242C45.2988 37.6367 45.7119 37.7231 46.0635 37.896C46.418 38.0688 46.6919 38.3179 46.8853 38.6431C47.0815 38.9653 47.1797 39.3462 47.1797 39.7856C47.1797 40.228 47.0801 40.6074 46.8809 40.9238C46.6846 41.2373 46.4048 41.4746 46.0415 41.6357C45.6782 41.7969 45.2534 41.8774 44.7671 41.8774H43.1191V40.5679H44.4419C44.6616 40.5679 44.8433 40.5415 44.9868 40.4888C45.1304 40.4331 45.2402 40.3481 45.3164 40.2339C45.3955 40.1167 45.4351 39.9673 45.4351 39.7856C45.4351 39.6011 45.3955 39.4502 45.3164 39.333C45.2402 39.2129 45.1289 39.1235 44.9824 39.0649C44.8359 39.0063 44.6558 38.9771 44.4419 38.9771H43.7871V44H42.1172V37.6367ZM47.3906 44H45.5669L44.02 41.0864H45.8042L47.3906 44ZM53.4199 44H52.0181L49.6582 40.5679H49.6143V44H47.9443V37.6367H49.3726L51.6973 41.0601H51.75V37.6367H53.4199V44Z" fill="#222222"/>
                <path d="M30.5676 60.6406L31.5695 58.6367H33.7785L32.0617 61.8125L33.8605 65H31.6691L30.5676 62.9492L29.5012 65H27.2746L29.091 61.8125L27.3859 58.6367H29.6066L30.5676 60.6406ZM40.9109 65.1172C40.2508 65.1172 39.6609 65.0039 39.1414 64.7773C38.6219 64.5469 38.2176 64.2266 37.9285 63.8164C37.6395 63.4062 37.493 62.9453 37.4891 62.4336H39.7391C39.743 62.5977 39.7957 62.7461 39.8973 62.8789C39.9988 63.0117 40.1395 63.1172 40.3191 63.1953C40.4988 63.2695 40.698 63.3066 40.9168 63.3066C41.1395 63.3066 41.3367 63.2676 41.5086 63.1895C41.6844 63.1113 41.8191 63.002 41.9129 62.8613C42.0066 62.7207 42.0516 62.5605 42.0477 62.3809C42.0516 62.2012 41.9988 62.043 41.8895 61.9062C41.784 61.7656 41.6297 61.6562 41.4266 61.5781C41.2273 61.5 41.0008 61.4609 40.7469 61.4609H39.8855V59.9082H40.7469C40.9773 59.9082 41.1844 59.8691 41.368 59.791C41.5555 59.7129 41.698 59.6035 41.7957 59.4629C41.8973 59.3223 41.9441 59.166 41.9363 58.9941C41.9441 58.8262 41.9051 58.6758 41.8191 58.543C41.7371 58.4062 41.616 58.3027 41.4559 58.2324C41.2996 58.1582 41.1219 58.1211 40.9227 58.1211C40.7117 58.1211 40.5203 58.1602 40.3484 58.2383C40.1805 58.3125 40.0477 58.418 39.95 58.5547C39.8523 58.6914 39.7996 58.8477 39.7918 59.0234H37.6531C37.6648 58.5117 37.8094 58.0586 38.0867 57.6641C38.368 57.2695 38.7547 56.9609 39.2469 56.7383C39.7391 56.5117 40.2977 56.3984 40.9227 56.3984C41.5398 56.3984 42.0887 56.5039 42.5691 56.7148C43.0496 56.9258 43.4246 57.2188 43.6941 57.5938C43.9637 57.9648 44.0945 58.3867 44.0867 58.8594C44.0945 59.1641 44.0242 59.4414 43.8758 59.6914C43.7312 59.9375 43.5262 60.1367 43.2605 60.2891C42.9988 60.4375 42.702 60.5312 42.3699 60.5703V60.6406C42.8152 60.6875 43.1902 60.7988 43.4949 60.9746C43.8035 61.1465 44.034 61.3672 44.1863 61.6367C44.3387 61.9062 44.4109 62.2168 44.4031 62.5684C44.4109 63.0605 44.2645 63.5 43.9637 63.8867C43.6668 64.2695 43.2527 64.5703 42.7215 64.7891C42.1941 65.0078 41.5906 65.1172 40.9109 65.1172Z" fill="#222222"/>
            </svg>
        `
  }
])

const goToHome = () => {
  // RECENT_ROUTE 가 존재하면 해당 페이지로 이동.
  const recentRoute = useCookie('RECENT_ROUTE')
  if (recentRoute.value) {
    setTimeout(() => {
      router.push(recentRoute.value)
      recentRoute.value = ''
    }, 300)
  } else {
    router.push('/')
  }

  setTimeout(() => {
    const JOIN_IMPUID = useCookie('JOIN_IMPUID')
    const JOIN_ISMAFLAG = useCookie('JOIN_ISMAFLAG')
    const JOIN_EMAIL = useCookie('JOIN_EMAIL')
    const JOIN_PASSWORD = useCookie('JOIN_PASSWORD')
    const JOIN_TYPE = useCookie('JOIN_PASSWORD')
    JOIN_IMPUID.value = null
    JOIN_ISMAFLAG.value = null
    JOIN_EMAIL.value = null
    JOIN_PASSWORD.value = null
    JOIN_TYPE.value = null
  }, 1000)
}

onMounted(() => {
  appStore().setHeaderType({
    back: false,
    logo: false,
    title: '회원가입',
    home: false,
    search: false,
    cart: false,
    close: false,
    backRoute: ''
  })
  const JOIN_TYPE = useCookie('JOIN_TYPE')
  amplitude.track('signup_finish', {
    type: JOIN_TYPE.value
  })
})

onBeforeMount(() => {
  hideGnb()
})
onUpdated(() => {
  hideGnb()
})
onUnmounted(() => {
  showGnb()
})
</script>
